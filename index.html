<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Filter map reduce</title>
</head>
<body>
    <script>

        var arr = [5, 'orange', [2], 'hello', 43];
        
        // filter 
        
        var filterArray = function(array, callback) {
            var resultArray =[];

            for (i = 0; i < array.length; i++) {
                var callbackResult = callback(array[i], i, array);
                if (callbackResult) {
                    resultArray.push(array[i]);
                }
            }

            return resultArray;
        }

        var filterTest = filterArray(arr, function(el) {
            return el > 2;
        });
        
        console.log(filterTest);

        // map

        var map = function(array, callback) {
            var resultArray =[];

            for (var i = 0; i < array.length; i++) {
                var callbackResult = callback(array[i], i, array);
                resultArray.push(callbackResult);
            }

            return resultArray;
        }

        var mapTest = map(arr, function(el) {
            return el * 2;
        })

        console.log(mapTest);

        // Группировка в объект

        const notification = [
            {
                date: '31/07/2019',
                msg: 'Some message here'
            },
            {
                date: '31/07/2019',
                msg: 'Some weird message here'
            },
            {
                date: '2/08/2019',
                msg: 'Some absurd message here'
            },
            {
                date: '2/08/2019',
                msg: 'Some witty message here'
            },
        ];

        var messagesOnDates = notification.reduce(function(acc, message) {
            if (!acc[message.date]) {
                acc[message.date] = [];
            } 
            acc[message.date].push(message.msg);
                
            return acc;
            }, {}
        );

        console.log(messagesOnDates);

    </script>
</body>
</html>